const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PokemonDetailPage-C-EYuW8r.js","assets/index-Du0vXYoH.js","assets/index-JSg5DDES.css","assets/App-CBnKlSPQ.js","assets/App-3NgPJivT.css","assets/Footer-DlYLaU0K.js","assets/Footer-C8_IMnZK.css","assets/useFavorites-Vdnob2mK.js","assets/PokemonDetailPage-BBNKfEGU.css"])))=>i.map(i=>d[i]);
import{r as s,j as n,_ as $}from"./index-Du0vXYoH.js";import{L as P}from"./App-CBnKlSPQ.js";const h={normal:"#e8e8b9",fire:"#e35b31",water:"#6890F0",electric:"#F8D030",grass:"#79bd5a",ice:"#98D8D8",fighting:"#dd463d",poison:"#e5f36f",ground:"#E0C068",flying:"#a1c5ea",psychic:"#cc82cc",bug:"#a1af1f",rock:"#857443",ghost:"#7c6698",dragon:"#9572ed",dark:"#686464",steel:"#B8B8D0",fairy:"#EE99AC"},N="#A8A878",C="linear-gradient(to right, #f5f5f5, #e0e0e0)",_=e=>{if(!e?.length)return C;if(e.length===1)return`linear-gradient(135deg, ${h[e[0].type.name]||N} 0%, white 100%)`;const o=h[e[0].type.name]||N,r=h[e[1].type.name]||N;return`linear-gradient(135deg, ${o} 0%, ${r} 100%)`},T=e=>h[e]||N,A={"generation-i":"#e8e8b9","generation-ii":"#e35b31","generation-iii":"#6890F0","generation-iv":"#e5f36f","generation-v":"#79bd5a","generation-vi":"#98D8D8","generation-vii":"#cc82cc","generation-viii":"#B8B8D0","generation-ix":"#EE99AC"},pe=e=>A[e]||"#A8A878",L=e=>{if(e==null)return"#000";try{return`#${String(e).padStart(3,"0")}`}catch(o){return console.error("Error formatting Pokemon ID:",o),"#000"}},R=(e,o)=>{if(!e&&!o)return"Неизвестный покемон";if(o)return o;try{return e.charAt(0).toUpperCase()+e.slice(1).replace(/-/g," ")}catch(r){return console.error("Error formatting Pokemon name:",r),String(e)}},he=e=>{if(e==null)return"Н/Д";try{return`${(Number(e)/10).toFixed(1)} м`}catch(o){return console.error("Error formatting Pokemon height:",o),"Н/Д"}},Ne=e=>{if(e==null)return"Н/Д";try{return`${(Number(e)/10).toFixed(1)} кг`}catch(o){return console.error("Error formatting Pokemon weight:",o),"Н/Д"}},j="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon",S=`${j}/other/official-artwork`,b=e=>{if(!e)return"";const o=Number(e);return isNaN(o)?"":o},w=e=>{const o=b(e);return o?`${S}/${o}.png`:""},B=(e,o)=>{if(!e)return"";const r=b(o);if(!r)return"";const t=e.other?.["official-artwork"]?.front_default,c=e.other?.["dream-world"]?.front_default,a=e.other?.home?.front_default,i=e.front_default;return t||c||a||i||w(r)},D=e=>{const o=b(e);return o?`${j}/${o}.png`:""},F=(e={})=>{const{onLoad:o,onError:r,fallbackSrc:t=""}=e,[c,a]=s.useState(!1),[i,d]=s.useState(!1),[l,m]=s.useState(!1),g=s.useCallback(u=>{a(!0),d(!1),o&&o(u)},[o]),k=s.useCallback(u=>{d(!0),t&&!l?(m(!0),u.target.src=t):a(!0),r&&r(u)},[r,t,l]),f=s.useCallback(()=>{a(!1),d(!1),m(!1)},[]);return{isLoaded:c,isError:i,useFallback:l,handleLoad:g,handleError:k,resetState:f}},M="Классический",U="Огненный",O="Водный",V="Электрический",G="Травяной",K="Ледяной",W="Боевой",H="Ядовитый",q="Земляной",z="Летающий",X="Психический",J="Насекомый",Q="Каменный",Y="Призрачный",Z="Дракон",ee="Темный",oe="Стальной",te="Волшебный",ne={normal:M,fire:U,water:O,electric:V,grass:G,ice:K,fighting:W,poison:H,ground:q,flying:z,psychic:X,bug:J,rock:Q,ghost:Y,dragon:Z,dark:ee,steel:oe,fairy:te},re="Здоровье",ae="Атака",se="Защита",ce="Скорость",ie={hp:re,attack:ae,defense:se,"special-attack":"Спец. атака","special-defense":"Спец. защита",speed:ce},le={"generation-i":"Поколение I","generation-ii":"Поколение II","generation-iii":"Поколение III","generation-iv":"Поколение IV","generation-v":"Поколение V","generation-vi":"Поколение VI","generation-vii":"Поколение VII","generation-viii":"Поколение VIII","generation-ix":"Поколение IX"},de=e=>ne[e]||e,ye=e=>ie[e]||e,be=e=>le[e]||e,p=new Map,me=e=>e.replace(/POKéMON/gi,"покемон"),ve=async(e,o="ru",r="en")=>{if(!e)return"";const t=`${r}:${o}:${e}`;if(p.has(t))return p.get(t);try{const c=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${r}&tl=${o}&dt=t&q=${encodeURIComponent(e)}`,a=await fetch(c);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const d=(await a.json())[0]?.map(m=>m[0]).join("")||"",l=me(d);return p.set(t,l),l}catch(c){return console.error("Ошибка при переводе текста (Google Translate):",c),p.set(t,e),e}},ue=s.memo(({type:e,onClick:o,isActive:r=!1,large:t=!1})=>{const c=T(e),a=de(e),i=["type-badge",t?"large":"",r?"active":"",o?"clickable":""].filter(Boolean).join(" ");return n.jsx("div",{className:i,style:{backgroundColor:c},onClick:o?()=>o(e):void 0,children:a})}),ge=s.memo(({pokemon:e,className:o="",asDiv:r=!1})=>{const{id:t,name:c,types:a,sprites:i}=e||{},d=s.useMemo(()=>B(i,t),[i,t]),l=s.useMemo(()=>D(t),[t]),m=s.useMemo(()=>_(a),[a]),g=s.useMemo(()=>R(c,e?.nameRu),[c,e?.nameRu]),k=s.useMemo(()=>L(t),[t]),{isLoaded:f,handleLoad:u,handleError:E}=F({fallbackSrc:l}),I=s.useMemo(()=>a?.map(x=>n.jsx(ue,{type:x.type.name},`${t}-${x.type.name}`)),[a,t]),y=()=>{$(()=>import("./PokemonDetailPage-C-EYuW8r.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))};if(!e)return null;const v=n.jsx("div",{className:`pokemon-card ${f?"loaded":""} ${o}`,style:{background:m},children:n.jsxs("div",{className:"pokemon-card-content",children:[n.jsxs("div",{className:"pokemon-card-header",children:[n.jsx("h2",{className:"pokemon-name",children:g}),n.jsx("span",{className:"pokemon-id",children:k})]}),n.jsxs("div",{className:"pokemon-image-container",children:[!f&&n.jsx("div",{className:"pokemon-image-skeleton","aria-hidden":"true"}),n.jsx("img",{src:d,alt:g,className:"pokemon-image",style:{opacity:f?1:0},loading:"lazy",onLoad:u,onError:E,width:"150",height:"150"})]}),n.jsx("div",{className:"pokemon-types",children:I})]})});return r?v:n.jsx(P,{to:`/pokemon/${t}`,className:"pokemon-card-link","aria-label":`Покемон ${g}, ${k}`,onMouseEnter:y,onFocus:y,onTouchStart:y,children:v})});ge.displayName="PokemonCard";const xe=s.memo(()=>n.jsx("div",{className:"pokemon-card-skeleton",children:n.jsxs("div",{className:"pokemon-card-skeleton-content",children:[n.jsxs("div",{className:"pokemon-card-skeleton-header",children:[n.jsx("div",{className:"pokemon-name-skeleton"}),n.jsx("div",{className:"pokemon-id-skeleton"})]}),n.jsx("div",{className:"pokemon-image-skeleton"}),n.jsxs("div",{className:"pokemon-types-skeleton",children:[n.jsx("div",{className:"type-badge-skeleton"}),n.jsx("div",{className:"type-badge-skeleton"})]})]})}));export{ge as P,ue as T,be as a,xe as b,de as c,B as d,R as e,L as f,pe as g,he as h,Ne as i,T as j,ye as k,_ as l,D as m,ve as t};
