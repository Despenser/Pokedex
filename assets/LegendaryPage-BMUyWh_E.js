import{r as s,R as e}from"./index-CB5N3rpp.js";import{F as g}from"./Footer-xKqXVpvq.js";import{a as k,d as y,c as E,P as h}from"./PokemonList-DSboICHW.js";import{g as f,a as v,p as N,u as z}from"./App-DYKHi4eM.js";import{W as w}from"./WithGlobalSearch-BJSSzPsa.js";const P=s.memo(({generation:a,pokemons:n})=>!n||n.length===0?null:e.createElement("div",{style:{marginBottom:40}},e.createElement("h2",{className:"section-title generation",style:{marginTop:32}},k(a)),e.createElement("div",{className:"pokemon-grid"},n.map(r=>e.createElement(y,{key:r.id,pokemon:r}))))),b=["articuno","zapdos","moltres","mewtwo","mew","raikou","entei","suicune","lugia","ho-oh","celebi","regirock","regice","registeel","latias","latios","kyogre","groudon","rayquaza","jirachi","deoxys-normal","uxie","mesprit","azelf","dialga","palkia","heatran","regigigas","giratina-altered","cresselia","phione","manaphy","darkrai","shaymin-land","arceus","victini","cobalion","terrakion","virizion","tornadus-incarnate","thundurus-incarnate","reshiram","zekrom","landorus-incarnate","kyurem","keldeo-ordinary","meloetta-aria","genesect","xerneas","yveltal","zygarde-50","diancie","hoopa","volcanion","type-null","silvally","tapu-koko","tapu-lele","tapu-bulu","tapu-fini","cosmog","cosmoem","solgaleo","lunala","nihilego","buzzwole","pheromosa","xurkitree","celesteela","kartana","guzzlord","necrozma","magearna","marshadow","poipole","naganadel","stakataka","blacephalon","zeraora","zacian","zamazenta","eternatus","kubfu","urshifu-single-strike","zarude","regieleki","regidrago","glastrier","spectrier","calyrex","ting-lu","chien-pao","wo-chien","chi-yu","koraidon","miraidon","walking-wake","iron-leaves","ogerpon","terapagos"],L=["deoxys-normal","giratina-altered","shaymin-land","tornadus-incarnate","thundurus-incarnate","landorus-incarnate","keldeo-ordinary","meloetta-aria","zygarde-50","urshifu-single-strike","oricorio-baile","lycanroc-midday","wishiwashi-solo","minior-red-meteor","mimikyu-disguised","toxtricity-amped","eiscue-ice","indeedee-male","morpeko-full-belly","basculegion-male","enamorus-incarnate","darmanitan-standard","gourgeist-average","pumpkaboo-average"],x=a=>L.includes(a)?a.split("-")[0]:a,R=["generation-i","generation-ii","generation-iii","generation-iv","generation-v","generation-vi","generation-vii","generation-viii","generation-ix","unknown"],S=({grouped:a,isLoading:n,error:r})=>r?e.createElement("div",{className:"favorites-error-container"},e.createElement("div",{style:{color:"red"}},r.message)):n?e.createElement("div",{className:"pokemon-grid"},Array(6).fill(0).map((t,l)=>e.createElement(E,{key:`skeleton-${l}`}))):e.createElement(e.Fragment,null,R.map(t=>e.createElement(P,{key:t,generation:t,pokemons:a[t]}))),G=()=>{const[a,n]=s.useState({}),[r,t]=s.useState(!0),[l,m]=s.useState(null);return s.useEffect(()=>{(async()=>{t(!0),m(null);try{const i=b.map(async o=>{try{const[u,p]=await Promise.all([f(o),v(x(o))]);return{...u,nameRu:N[u.name],generation:p?.generation?.name||"unknown"}}catch{return null}}),d=(await Promise.all(i)).filter(Boolean),c={};for(const o of d)c[o.generation]||(c[o.generation]=[]),c[o.generation].push(o);n(c)}catch(i){m(i instanceof Error?i:new Error(i?.message||i))}t(!1)})()},[]),s.useMemo(()=>({grouped:a,isLoading:r,error:l}),[a,r,l])},C=()=>{const{grouped:a,isLoading:n,error:r}=G(),{searchQuery:t}=z();return t?e.createElement("div",{className:"favorites-page"},e.createElement("main",{className:"main-content"},e.createElement("div",{className:"container"},e.createElement(h,null))),e.createElement(g,null)):e.createElement("div",{className:"favorites-page"},e.createElement("main",{className:"main-content"},e.createElement("div",{className:"container"},e.createElement(w,null,e.createElement("h1",{className:"favorites-title"},"Легендарные покемоны"),e.createElement(S,{grouped:a,isLoading:n,error:r})))),e.createElement(g,null))};export{C as default};
