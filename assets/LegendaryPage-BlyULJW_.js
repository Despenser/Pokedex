import{r as s,j as e}from"./index-Du0vXYoH.js";import{F as p}from"./Footer-DlYLaU0K.js";import{a as h,P as k,b as y}from"./PokemonCardSkeleton-HXPW-wch.js";import{g as x,a as f,p as v}from"./App-CBnKlSPQ.js";const j=s.memo(({generation:a,pokemons:n})=>!n||n.length===0?null:e.jsxs("div",{style:{marginBottom:40},children:[e.jsx("h2",{className:"section-title generation",style:{marginTop:32},children:h(a)}),e.jsx("div",{className:"pokemon-grid",children:n.map(r=>e.jsx(k,{pokemon:r},r.id))})]})),z=["articuno","zapdos","moltres","mewtwo","mew","raikou","entei","suicune","lugia","ho-oh","celebi","regirock","regice","registeel","latias","latios","kyogre","groudon","rayquaza","jirachi","deoxys-normal","uxie","mesprit","azelf","dialga","palkia","heatran","regigigas","giratina-altered","cresselia","phione","manaphy","darkrai","shaymin-land","arceus","victini","cobalion","terrakion","virizion","tornadus-incarnate","thundurus-incarnate","reshiram","zekrom","landorus-incarnate","kyurem","keldeo-ordinary","meloetta-aria","genesect","xerneas","yveltal","zygarde-50","diancie","hoopa","volcanion","type-null","silvally","tapu-koko","tapu-lele","tapu-bulu","tapu-fini","cosmog","cosmoem","solgaleo","lunala","nihilego","buzzwole","pheromosa","xurkitree","celesteela","kartana","guzzlord","necrozma","magearna","marshadow","poipole","naganadel","stakataka","blacephalon","zeraora","zacian","zamazenta","eternatus","kubfu","urshifu-single-strike","zarude","regieleki","regidrago","glastrier","spectrier","calyrex","ting-lu","chien-pao","wo-chien","chi-yu","koraidon","miraidon","walking-wake","iron-leaves","ogerpon","terapagos"],N=["deoxys-normal","giratina-altered","shaymin-land","tornadus-incarnate","thundurus-incarnate","landorus-incarnate","keldeo-ordinary","meloetta-aria","zygarde-50","urshifu-single-strike","oricorio-baile","lycanroc-midday","wishiwashi-solo","minior-red-meteor","mimikyu-disguised","toxtricity-amped","eiscue-ice","indeedee-male","morpeko-full-belly","basculegion-male","enamorus-incarnate","darmanitan-standard","gourgeist-average","pumpkaboo-average"],w=a=>N.includes(a)?a.split("-")[0]:a,E=["generation-i","generation-ii","generation-iii","generation-iv","generation-v","generation-vi","generation-vii","generation-viii","generation-ix","unknown"],b=({grouped:a,isLoading:n,error:r})=>r?e.jsx("div",{className:"favorites-error-container",children:e.jsx("div",{style:{color:"red"},children:r.message})}):n?e.jsx("div",{className:"pokemon-grid",children:Array(6).fill(0).map((i,l)=>e.jsx(y,{},`skeleton-${l}`))}):e.jsx(e.Fragment,{children:E.map(i=>e.jsx(j,{generation:i,pokemons:a[i]},i))}),P=()=>{const[a,n]=s.useState({}),[r,i]=s.useState(!0),[l,u]=s.useState(null);return s.useEffect(()=>{(async()=>{i(!0),u(null);try{const t=z.map(async o=>{try{const[m,g]=await Promise.all([x(o),f(w(o))]);return{...m,nameRu:v[m.name],generation:g?.generation?.name||"unknown"}}catch{return null}}),d=(await Promise.all(t)).filter(Boolean),c={};for(const o of d)c[o.generation]||(c[o.generation]=[]),c[o.generation].push(o);n(c)}catch(t){u(t instanceof Error?t:new Error(t?.message||t))}i(!1)})()},[]),s.useMemo(()=>({grouped:a,isLoading:r,error:l}),[a,r,l])},F=()=>{const{grouped:a,isLoading:n,error:r}=P();return e.jsxs("div",{className:"favorites-page",children:[e.jsx("main",{className:"main-content",children:e.jsxs("div",{className:"container",children:[e.jsx("h1",{className:"favorites-title",children:"Легендарные покемоны"}),e.jsx(b,{grouped:a,isLoading:n,error:r})]})}),e.jsx(p,{})]})};export{F as default};
